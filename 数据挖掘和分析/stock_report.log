2024-05-17 09:26:38,615 - INFO - Script started
2024-05-17 09:26:38,642 - INFO - Using cached data for 600415.SS
2024-05-17 09:26:38,642 - INFO - Using cached data for 600988.SS
2024-05-17 09:26:38,643 - INFO - Using cached data for 002142.SZ
2024-05-17 09:26:38,643 - INFO - Using cached data for 002497.SZ
2024-05-17 09:26:38,643 - INFO - Using cached data for 300750.SZ
2024-05-17 09:26:38,643 - INFO - Using cached data for 002236.SZ
2024-05-17 09:26:38,644 - INFO - Using cached data for 600685.SS
2024-05-17 09:26:39,055 - INFO - Email sent successfully!
2024-05-17 09:26:39,056 - INFO - Script finished
2024-07-15 17:00:54,177 - INFO - Script started
2024-07-15 17:00:54,206 - INFO - Network is available.
2024-07-15 17:00:54,206 - INFO - Fetching data for 600415.SS, attempt 1/3
2024-07-15 17:00:54,207 - DEBUG - Entering history()
2024-07-15 17:00:54,221 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2024-07-15 17:00:54,221 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['600415.SS', 1, 0])
2024-07-15 17:00:56,688 - DEBUG -  Entering history()
2024-07-15 17:00:56,689 - DEBUG - 600415.SS: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:00:56,689 - DEBUG -   Entering get()
2024-07-15 17:00:56,689 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/600415.SS
2024-07-15 17:00:56,689 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:00:56,689 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:00:56,689 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:00:56,689 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:00:56,694 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2024-07-15 17:00:56,694 - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['basic', 1, 0])
2024-07-15 17:00:56,698 - DEBUG - Starting new HTTPS connection (1): fc.yahoo.com:443
2024-07-15 17:00:59,332 - DEBUG - https://fc.yahoo.com:443 "GET / HTTP/1.1" 404 4742
2024-07-15 17:00:59,334 - DEBUG - ('DELETE FROM "_cookieschema" WHERE ("_cookieschema"."strategy" = ?)', ['basic'])
2024-07-15 17:00:59,336 - DEBUG - ('BEGIN', None)
2024-07-15 17:00:59,337 - DEBUG - ('INSERT INTO "_cookieschema" ("strategy", "fetch_date", "cookie_bytes") VALUES (?, ?, ?)', ['basic', '2024-07-15T17:00:59.337875', <memory at 0x000001E1C78C2EC0>])
2024-07-15 17:00:59,338 - DEBUG - fetched basic cookie = <Cookie A3=d=AQABBEvllGYCEPuPTwgdqEdp_cnt1qwZFpkFEgEBAQE2lmaeZtxA0iMA_eMAAA&S=AQAAAu9opxtn6VSibZRSZzM_SV8 for .yahoo.com/>
2024-07-15 17:00:59,338 - DEBUG - reusing cookie
2024-07-15 17:00:59,339 - DEBUG - Starting new HTTPS connection (1): query1.finance.yahoo.com:443
2024-07-15 17:01:01,238 - ERROR - 600415.SS: No price data found, symbol may be delisted (period=1d)
2024-07-15 17:01:01,239 - DEBUG -  Exiting history()
2024-07-15 17:01:01,239 - DEBUG - Exiting history()
2024-07-15 17:01:01,242 - DEBUG - Raw data for 600415.SS: Empty DataFrame
Columns: [Open, High, Low, Close, Adj Close, Volume]
Index: []
2024-07-15 17:01:01,242 - WARNING - No data found for 600415.SS
2024-07-15 17:01:01,242 - INFO - Fetching data for 600415.SS, attempt 2/3
2024-07-15 17:01:01,242 - DEBUG - Entering history()
2024-07-15 17:01:01,243 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['600415.SS', 1, 0])
2024-07-15 17:01:01,243 - DEBUG -  Entering history()
2024-07-15 17:01:01,243 - DEBUG - 600415.SS: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:01,243 - DEBUG -   Entering get()
2024-07-15 17:01:01,243 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/600415.SS
2024-07-15 17:01:01,243 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:01,243 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:01,243 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:01,243 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:01,243 - DEBUG - reusing cookie
2024-07-15 17:01:01,243 - DEBUG - reusing cookie
2024-07-15 17:01:01,245 - DEBUG - Starting new HTTPS connection (2): query1.finance.yahoo.com:443
2024-07-15 17:01:09,632 - DEBUG - https://query1.finance.yahoo.com:443 "GET /v1/test/getcrumb HTTP/1.1" 200 11
2024-07-15 17:01:09,632 - DEBUG - crumb = 'gQM7BHRAijM'
2024-07-15 17:01:09,633 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:09,633 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:09,635 - DEBUG - Starting new HTTPS connection (1): query2.finance.yahoo.com:443
2024-07-15 17:01:11,353 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/600415.SS?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1128
2024-07-15 17:01:11,355 - DEBUG - response code=200
2024-07-15 17:01:11,356 - DEBUG -   Exiting get()
2024-07-15 17:01:11,368 - DEBUG - 600415.SS: yfinance received OHLC data: 2024-07-15 07:00:01 -> 2024-07-15 07:00:01
2024-07-15 17:01:11,389 - DEBUG - 600415.SS: OHLC after cleaning: 2024-07-15 15:00:01+08:00 -> 2024-07-15 15:00:01+08:00
2024-07-15 17:01:11,396 - DEBUG - 600415.SS: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:11,408 - DEBUG - 600415.SS: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:11,408 - DEBUG -  Exiting history()
2024-07-15 17:01:11,408 - DEBUG - Exiting history()
2024-07-15 17:01:11,418 - DEBUG - Raw data for 600415.SS:                            Open  High   Low  ...    Volume  Dividends  Stock Splits
Date                                         ...                                   
2024-07-15 00:00:00+08:00  7.54  7.62  7.48  ...  18658744        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:11,418 - INFO - Successfully fetched data for 600415.SS
2024-07-15 17:01:11,418 - DEBUG - Fetched info for 600415.SS: {'ticker': '600415.SS', 'name': '小商品城', 'open': 7.539999961853027, 'close': 7.559999942779541, 'change': 0.019999980926513672}
2024-07-15 17:01:11,419 - INFO - Fetching data for 600988.SS, attempt 1/3
2024-07-15 17:01:11,419 - DEBUG - Entering history()
2024-07-15 17:01:11,419 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['600988.SS', 1, 0])
2024-07-15 17:01:11,419 - DEBUG -  Entering history()
2024-07-15 17:01:11,419 - DEBUG - 600988.SS: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:11,419 - DEBUG -   Entering get()
2024-07-15 17:01:11,419 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/600988.SS
2024-07-15 17:01:11,419 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:11,419 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:11,419 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:11,419 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:11,419 - DEBUG - reusing cookie
2024-07-15 17:01:11,420 - DEBUG - reusing crumb
2024-07-15 17:01:11,420 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:11,420 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:13,289 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/600988.SS?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1121
2024-07-15 17:01:13,289 - DEBUG - response code=200
2024-07-15 17:01:13,289 - DEBUG -   Exiting get()
2024-07-15 17:01:13,290 - DEBUG - 600988.SS: yfinance received OHLC data: 2024-07-15 07:00:02 -> 2024-07-15 07:00:02
2024-07-15 17:01:13,291 - DEBUG - 600988.SS: OHLC after cleaning: 2024-07-15 15:00:02+08:00 -> 2024-07-15 15:00:02+08:00
2024-07-15 17:01:13,293 - DEBUG - 600988.SS: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:13,297 - DEBUG - 600988.SS: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:13,297 - DEBUG -  Exiting history()
2024-07-15 17:01:13,297 - DEBUG - Exiting history()
2024-07-15 17:01:13,314 - DEBUG - Raw data for 600988.SS:                             Open  High  ...  Dividends  Stock Splits
Date                                    ...                         
2024-07-15 00:00:00+08:00  19.85  20.5  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:13,314 - INFO - Successfully fetched data for 600988.SS
2024-07-15 17:01:13,315 - DEBUG - Fetched info for 600988.SS: {'ticker': '600988.SS', 'name': '赤峰黄金', 'open': 19.850000381469727, 'close': 20.200000762939453, 'change': 0.35000038146972656}
2024-07-15 17:01:13,315 - INFO - Fetching data for 002142.SZ, attempt 1/3
2024-07-15 17:01:13,315 - DEBUG - Entering history()
2024-07-15 17:01:13,316 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002142.SZ', 1, 0])
2024-07-15 17:01:13,316 - DEBUG -  Entering history()
2024-07-15 17:01:13,316 - DEBUG - 002142.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:13,316 - DEBUG -   Entering get()
2024-07-15 17:01:13,316 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002142.SZ
2024-07-15 17:01:13,316 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:13,316 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:13,316 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:13,316 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:13,316 - DEBUG - reusing cookie
2024-07-15 17:01:13,316 - DEBUG - reusing crumb
2024-07-15 17:01:13,317 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:13,317 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:14,965 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002142.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1137
2024-07-15 17:01:14,965 - DEBUG - response code=200
2024-07-15 17:01:14,966 - DEBUG -   Exiting get()
2024-07-15 17:01:14,966 - DEBUG - 002142.SZ: yfinance received OHLC data: 2024-07-15 07:04:30 -> 2024-07-15 07:04:30
2024-07-15 17:01:14,967 - DEBUG - 002142.SZ: OHLC after cleaning: 2024-07-15 15:04:30+08:00 -> 2024-07-15 15:04:30+08:00
2024-07-15 17:01:14,969 - DEBUG - 002142.SZ: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:14,973 - DEBUG - 002142.SZ: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:14,973 - DEBUG -  Exiting history()
2024-07-15 17:01:14,973 - DEBUG - Exiting history()
2024-07-15 17:01:14,978 - DEBUG - Raw data for 002142.SZ:                                 Open   High  ...  Dividends  Stock Splits
Date                                         ...                         
2024-07-15 00:00:00+08:00  21.200001  22.24  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:14,979 - INFO - Successfully fetched data for 002142.SZ
2024-07-15 17:01:14,979 - DEBUG - Fetched info for 002142.SZ: {'ticker': '002142.SZ', 'name': '宁波银行', 'open': 21.200000762939453, 'close': 22.18000030517578, 'change': 0.9799995422363281}
2024-07-15 17:01:14,988 - INFO - Fetching data for 002497.SZ, attempt 1/3
2024-07-15 17:01:14,988 - DEBUG - Entering history()
2024-07-15 17:01:14,989 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002497.SZ', 1, 0])
2024-07-15 17:01:14,989 - DEBUG -  Entering history()
2024-07-15 17:01:14,989 - DEBUG - 002497.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:14,989 - DEBUG -   Entering get()
2024-07-15 17:01:14,989 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002497.SZ
2024-07-15 17:01:14,989 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:14,989 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:14,989 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:14,989 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:14,989 - DEBUG - reusing cookie
2024-07-15 17:01:14,989 - DEBUG - reusing crumb
2024-07-15 17:01:14,989 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:14,989 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:15,299 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002497.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1126
2024-07-15 17:01:15,299 - DEBUG - response code=200
2024-07-15 17:01:15,299 - DEBUG -   Exiting get()
2024-07-15 17:01:15,300 - DEBUG - 002497.SZ: yfinance received OHLC data: 2024-07-15 07:04:06 -> 2024-07-15 07:04:06
2024-07-15 17:01:15,301 - DEBUG - 002497.SZ: OHLC after cleaning: 2024-07-15 15:04:06+08:00 -> 2024-07-15 15:04:06+08:00
2024-07-15 17:01:15,303 - DEBUG - 002497.SZ: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:15,307 - DEBUG - 002497.SZ: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:15,307 - DEBUG -  Exiting history()
2024-07-15 17:01:15,307 - DEBUG - Exiting history()
2024-07-15 17:01:15,313 - DEBUG - Raw data for 002497.SZ:                            Open  High   Low  ...   Volume  Dividends  Stock Splits
Date                                         ...                                  
2024-07-15 00:00:00+08:00  9.15  9.21  9.08  ...  8087923        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:15,313 - INFO - Successfully fetched data for 002497.SZ
2024-07-15 17:01:15,313 - DEBUG - Fetched info for 002497.SZ: {'ticker': '002497.SZ', 'name': '雅化集团', 'open': 9.149999618530273, 'close': 9.119999885559082, 'change': -0.029999732971191406}
2024-07-15 17:01:15,313 - INFO - Fetching data for 002459.SZ, attempt 1/3
2024-07-15 17:01:15,313 - DEBUG - Entering history()
2024-07-15 17:01:15,313 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002459.SZ', 1, 0])
2024-07-15 17:01:15,314 - DEBUG -  Entering history()
2024-07-15 17:01:15,314 - DEBUG - 002459.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:15,314 - DEBUG -   Entering get()
2024-07-15 17:01:15,314 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002459.SZ
2024-07-15 17:01:15,314 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:15,314 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:15,314 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:15,314 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:15,314 - DEBUG - reusing cookie
2024-07-15 17:01:15,314 - DEBUG - reusing crumb
2024-07-15 17:01:15,314 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:15,314 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:15,591 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002459.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1110
2024-07-15 17:01:15,591 - DEBUG - response code=200
2024-07-15 17:01:15,591 - DEBUG -   Exiting get()
2024-07-15 17:01:15,592 - DEBUG - 002459.SZ: yfinance received OHLC data: 2024-07-15 07:04:48 -> 2024-07-15 07:04:48
2024-07-15 17:01:15,593 - DEBUG - 002459.SZ: OHLC after cleaning: 2024-07-15 15:04:48+08:00 -> 2024-07-15 15:04:48+08:00
2024-07-15 17:01:15,595 - DEBUG - 002459.SZ: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:15,598 - DEBUG - 002459.SZ: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:15,598 - DEBUG -  Exiting history()
2024-07-15 17:01:15,598 - DEBUG - Exiting history()
2024-07-15 17:01:15,603 - DEBUG - Raw data for 002459.SZ:                             Open  High  ...  Dividends  Stock Splits
Date                                    ...                         
2024-07-15 00:00:00+08:00  10.29  10.4  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:15,604 - INFO - Successfully fetched data for 002459.SZ
2024-07-15 17:01:15,604 - DEBUG - Fetched info for 002459.SZ: {'ticker': '002459.SZ', 'name': '晶澳科技', 'open': 10.289999961853027, 'close': 10.25, 'change': -0.039999961853027344}
2024-07-15 17:01:15,604 - INFO - Fetching data for 300750.SZ, attempt 1/3
2024-07-15 17:01:15,604 - DEBUG - Entering history()
2024-07-15 17:01:15,604 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['300750.SZ', 1, 0])
2024-07-15 17:01:15,604 - DEBUG -  Entering history()
2024-07-15 17:01:15,605 - DEBUG - 300750.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:15,605 - DEBUG -   Entering get()
2024-07-15 17:01:15,605 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/300750.SZ
2024-07-15 17:01:15,605 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:15,605 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:15,605 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:15,605 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:15,605 - DEBUG - reusing cookie
2024-07-15 17:01:15,605 - DEBUG - reusing crumb
2024-07-15 17:01:15,605 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:15,605 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:15,872 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/300750.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1141
2024-07-15 17:01:15,872 - DEBUG - response code=200
2024-07-15 17:01:15,872 - DEBUG -   Exiting get()
2024-07-15 17:01:15,873 - DEBUG - 300750.SZ: yfinance received OHLC data: 2024-07-15 07:04:43 -> 2024-07-15 07:04:43
2024-07-15 17:01:15,874 - DEBUG - 300750.SZ: OHLC after cleaning: 2024-07-15 15:04:43+08:00 -> 2024-07-15 15:04:43+08:00
2024-07-15 17:01:15,875 - DEBUG - 300750.SZ: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:15,879 - DEBUG - 300750.SZ: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:15,879 - DEBUG -  Exiting history()
2024-07-15 17:01:15,880 - DEBUG - Exiting history()
2024-07-15 17:01:15,885 - DEBUG - Raw data for 300750.SZ:                                  Open        High  ...  Dividends  Stock Splits
Date                                               ...                         
2024-07-15 00:00:00+08:00  177.850006  179.949997  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:15,885 - INFO - Successfully fetched data for 300750.SZ
2024-07-15 17:01:15,886 - DEBUG - Fetched info for 300750.SZ: {'ticker': '300750.SZ', 'name': '宁德时代', 'open': 177.85000610351562, 'close': 178.1199951171875, 'change': 0.269989013671875}
2024-07-15 17:01:15,886 - INFO - Fetching data for 002236.SZ, attempt 1/3
2024-07-15 17:01:15,886 - DEBUG - Entering history()
2024-07-15 17:01:15,886 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002236.SZ', 1, 0])
2024-07-15 17:01:15,886 - DEBUG -  Entering history()
2024-07-15 17:01:15,886 - DEBUG - 002236.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:15,886 - DEBUG -   Entering get()
2024-07-15 17:01:15,886 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002236.SZ
2024-07-15 17:01:15,887 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:15,887 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:15,887 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:15,887 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:15,887 - DEBUG - reusing cookie
2024-07-15 17:01:15,887 - DEBUG - reusing crumb
2024-07-15 17:01:15,887 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:15,887 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:16,166 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002236.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1135
2024-07-15 17:01:16,166 - DEBUG - response code=200
2024-07-15 17:01:16,167 - DEBUG -   Exiting get()
2024-07-15 17:01:16,167 - DEBUG - 002236.SZ: yfinance received OHLC data: 2024-07-15 07:04:21 -> 2024-07-15 07:04:21
2024-07-15 17:01:16,168 - DEBUG - 002236.SZ: OHLC after cleaning: 2024-07-15 15:04:21+08:00 -> 2024-07-15 15:04:21+08:00
2024-07-15 17:01:16,170 - DEBUG - 002236.SZ: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:16,175 - DEBUG - 002236.SZ: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:16,175 - DEBUG -  Exiting history()
2024-07-15 17:01:16,175 - DEBUG - Exiting history()
2024-07-15 17:01:16,181 - DEBUG - Raw data for 002236.SZ:                             Open   High  ...  Dividends  Stock Splits
Date                                     ...                         
2024-07-15 00:00:00+08:00  15.18  15.04  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:16,181 - INFO - Successfully fetched data for 002236.SZ
2024-07-15 17:01:16,182 - DEBUG - Fetched info for 002236.SZ: {'ticker': '002236.SZ', 'name': '大华股份', 'open': 15.180000305175781, 'close': 14.9399995803833, 'change': -0.24000072479248047}
2024-07-15 17:01:16,182 - INFO - Fetching data for 600685.SS, attempt 1/3
2024-07-15 17:01:16,182 - DEBUG - Entering history()
2024-07-15 17:01:16,182 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['600685.SS', 1, 0])
2024-07-15 17:01:16,182 - DEBUG -  Entering history()
2024-07-15 17:01:16,182 - DEBUG - 600685.SS: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:16,182 - DEBUG -   Entering get()
2024-07-15 17:01:16,182 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/600685.SS
2024-07-15 17:01:16,182 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-15 17:01:16,183 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-15 17:01:16,183 - DEBUG - cookie_mode = 'basic'
2024-07-15 17:01:16,183 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-15 17:01:16,183 - DEBUG - reusing cookie
2024-07-15 17:01:16,183 - DEBUG - reusing crumb
2024-07-15 17:01:16,183 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-15 17:01:16,183 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-15 17:01:16,476 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/600685.SS?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=gQM7BHRAijM HTTP/1.1" 200 1135
2024-07-15 17:01:16,477 - DEBUG - response code=200
2024-07-15 17:01:16,477 - DEBUG -   Exiting get()
2024-07-15 17:01:16,477 - DEBUG - 600685.SS: yfinance received OHLC data: 2024-07-15 07:00:02 -> 2024-07-15 07:00:02
2024-07-15 17:01:16,478 - DEBUG - 600685.SS: OHLC after cleaning: 2024-07-15 15:00:02+08:00 -> 2024-07-15 15:00:02+08:00
2024-07-15 17:01:16,480 - DEBUG - 600685.SS: OHLC after combining events: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:16,483 - DEBUG - 600685.SS: yfinance returning OHLC: 2024-07-15 00:00:00+08:00 -> 2024-07-15 00:00:00+08:00
2024-07-15 17:01:16,483 - DEBUG -  Exiting history()
2024-07-15 17:01:16,483 - DEBUG - Exiting history()
2024-07-15 17:01:16,489 - DEBUG - Raw data for 600685.SS:                             Open   High  ...  Dividends  Stock Splits
Date                                     ...                         
2024-07-15 00:00:00+08:00  28.93  29.42  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-15 17:01:16,489 - INFO - Successfully fetched data for 600685.SS
2024-07-15 17:01:16,489 - DEBUG - Fetched info for 600685.SS: {'ticker': '600685.SS', 'name': '中船防务', 'open': 28.93000030517578, 'close': 28.920000076293945, 'change': -0.010000228881835938}
2024-07-15 17:01:16,489 - DEBUG - Final email body: 代码执行时间：2024-07-15 17:00:54

今日股票信息:

股票代码: 600415.SS
股票名称: 小商品城
开盘价格: 7.54￥
收盘价格: 7.56￥
涨跌幅度: 0.02%

股票代码: 600988.SS
股票名称: 赤峰黄金
开盘价格: 19.85￥
收盘价格: 20.20￥
涨跌幅度: 0.35%

股票代码: 002142.SZ
股票名称: 宁波银行
开盘价格: 21.20￥
收盘价格: 22.18￥
涨跌幅度: 0.98%

股票代码: 002497.SZ
股票名称: 雅化集团
开盘价格: 9.15￥
收盘价格: 9.12￥
涨跌幅度: -0.03%

股票代码: 002459.SZ
股票名称: 晶澳科技
开盘价格: 10.29￥
收盘价格: 10.25￥
涨跌幅度: -0.04%

股票代码: 300750.SZ
股票名称: 宁德时代
开盘价格: 177.85￥
收盘价格: 178.12￥
涨跌幅度: 0.27%

股票代码: 002236.SZ
股票名称: 大华股份
开盘价格: 15.18￥
收盘价格: 14.94￥
涨跌幅度: -0.24%

股票代码: 600685.SS
股票名称: 中船防务
开盘价格: 28.93￥
收盘价格: 28.92￥
涨跌幅度: -0.01%


2024-07-15 17:01:16,490 - INFO - Connecting to SMTP server...
2024-07-15 17:01:17,469 - INFO - Logging in to SMTP server...
2024-07-15 17:01:17,904 - INFO - Sending email...
2024-07-15 17:01:19,546 - INFO - Email sent successfully!
2024-07-15 17:01:19,547 - INFO - Script finished
2024-07-29 15:10:40,302 - INFO - Script started
2024-07-29 15:10:40,332 - INFO - Network is available.
2024-07-29 15:10:40,332 - INFO - Fetching data for 600415.SS, attempt 1/3
2024-07-29 15:10:40,333 - DEBUG - Entering history()
2024-07-29 15:10:40,346 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
2024-07-29 15:10:40,347 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['600415.SS', 1, 0])
2024-07-29 15:10:43,117 - DEBUG -  Entering history()
2024-07-29 15:10:43,117 - DEBUG - 600415.SS: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:43,117 - DEBUG -   Entering get()
2024-07-29 15:10:43,117 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/600415.SS
2024-07-29 15:10:43,117 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:43,117 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:43,117 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:43,117 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:43,121 - DEBUG - ('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
2024-07-29 15:10:43,122 - DEBUG - ('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['basic', 1, 0])
2024-07-29 15:10:43,127 - DEBUG - Starting new HTTPS connection (1): fc.yahoo.com:443
2024-07-29 15:10:44,049 - DEBUG - https://fc.yahoo.com:443 "GET / HTTP/1.1" 404 4742
2024-07-29 15:10:44,058 - DEBUG - ('DELETE FROM "_cookieschema" WHERE ("_cookieschema"."strategy" = ?)', ['basic'])
2024-07-29 15:10:44,060 - DEBUG - ('BEGIN', None)
2024-07-29 15:10:44,060 - DEBUG - ('INSERT INTO "_cookieschema" ("strategy", "fetch_date", "cookie_bytes") VALUES (?, ?, ?)', ['basic', '2024-07-29T15:10:44.060559', <memory at 0x000001C33EE82EC0>])
2024-07-29 15:10:44,062 - DEBUG - fetched basic cookie = <Cookie A3=d=AQABBHRAp2YCELQ5sHSOpOCqvhw-_HxYGDkFEgEBAQGRqGaxZtw20iMA_eMAAA&S=AQAAAqGFYvdpy--Oew9EFVlzhY0 for .yahoo.com/>
2024-07-29 15:10:44,062 - DEBUG - reusing cookie
2024-07-29 15:10:44,063 - DEBUG - Starting new HTTPS connection (1): query1.finance.yahoo.com:443
2024-07-29 15:10:45,009 - DEBUG - https://query1.finance.yahoo.com:443 "GET /v1/test/getcrumb HTTP/1.1" 200 11
2024-07-29 15:10:45,010 - DEBUG - crumb = 'e0CBWrG1y9s'
2024-07-29 15:10:45,010 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:45,010 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:45,012 - DEBUG - Starting new HTTPS connection (1): query2.finance.yahoo.com:443
2024-07-29 15:10:46,028 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/600415.SS?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1128
2024-07-29 15:10:46,028 - DEBUG - response code=200
2024-07-29 15:10:46,029 - DEBUG -   Exiting get()
2024-07-29 15:10:46,048 - DEBUG - 600415.SS: yfinance received OHLC data: 2024-07-29 06:55:43 -> 2024-07-29 06:55:43
2024-07-29 15:10:46,066 - DEBUG - 600415.SS: OHLC after cleaning: 2024-07-29 14:55:43+08:00 -> 2024-07-29 14:55:43+08:00
2024-07-29 15:10:46,071 - DEBUG - 600415.SS: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,080 - DEBUG - 600415.SS: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,080 - DEBUG -  Exiting history()
2024-07-29 15:10:46,080 - DEBUG - Exiting history()
2024-07-29 15:10:46,091 - DEBUG - Raw data for 600415.SS:                            Open  High   Low  ...    Volume  Dividends  Stock Splits
Date                                         ...                                   
2024-07-29 00:00:00+08:00  7.56  7.62  7.45  ...  15034399        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:46,091 - INFO - Successfully fetched data for 600415.SS
2024-07-29 15:10:46,092 - DEBUG - Fetched info for 600415.SS: {'ticker': '600415.SS', 'name': '小商品城', 'open': 7.559999942779541, 'close': 7.590000152587891, 'change': 0.03000020980834961}
2024-07-29 15:10:46,092 - INFO - Fetching data for 600988.SS, attempt 1/3
2024-07-29 15:10:46,092 - DEBUG - Entering history()
2024-07-29 15:10:46,093 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['600988.SS', 1, 0])
2024-07-29 15:10:46,093 - DEBUG -  Entering history()
2024-07-29 15:10:46,093 - DEBUG - 600988.SS: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,093 - DEBUG -   Entering get()
2024-07-29 15:10:46,093 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/600988.SS
2024-07-29 15:10:46,093 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,093 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:46,093 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:46,093 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,094 - DEBUG - reusing cookie
2024-07-29 15:10:46,094 - DEBUG - reusing crumb
2024-07-29 15:10:46,094 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,094 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:46,368 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/600988.SS?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1137
2024-07-29 15:10:46,370 - DEBUG - response code=200
2024-07-29 15:10:46,370 - DEBUG -   Exiting get()
2024-07-29 15:10:46,370 - DEBUG - 600988.SS: yfinance received OHLC data: 2024-07-29 06:55:45 -> 2024-07-29 06:55:45
2024-07-29 15:10:46,371 - DEBUG - 600988.SS: OHLC after cleaning: 2024-07-29 14:55:45+08:00 -> 2024-07-29 14:55:45+08:00
2024-07-29 15:10:46,373 - DEBUG - 600988.SS: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,377 - DEBUG - 600988.SS: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,377 - DEBUG -  Exiting history()
2024-07-29 15:10:46,378 - DEBUG - Exiting history()
2024-07-29 15:10:46,385 - DEBUG - Raw data for 600988.SS:                             Open   High  ...  Dividends  Stock Splits
Date                                     ...                         
2024-07-29 00:00:00+08:00  19.09  19.52  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:46,385 - INFO - Successfully fetched data for 600988.SS
2024-07-29 15:10:46,385 - DEBUG - Fetched info for 600988.SS: {'ticker': '600988.SS', 'name': '赤峰黄金', 'open': 19.09000015258789, 'close': 18.899999618530273, 'change': -0.1900005340576172}
2024-07-29 15:10:46,386 - INFO - Fetching data for 002142.SZ, attempt 1/3
2024-07-29 15:10:46,386 - DEBUG - Entering history()
2024-07-29 15:10:46,386 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002142.SZ', 1, 0])
2024-07-29 15:10:46,387 - DEBUG -  Entering history()
2024-07-29 15:10:46,387 - DEBUG - 002142.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,387 - DEBUG -   Entering get()
2024-07-29 15:10:46,387 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002142.SZ
2024-07-29 15:10:46,387 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,387 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:46,387 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:46,387 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,387 - DEBUG - reusing cookie
2024-07-29 15:10:46,387 - DEBUG - reusing crumb
2024-07-29 15:10:46,388 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,388 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:46,653 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002142.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1139
2024-07-29 15:10:46,653 - DEBUG - response code=200
2024-07-29 15:10:46,653 - DEBUG -   Exiting get()
2024-07-29 15:10:46,654 - DEBUG - 002142.SZ: yfinance received OHLC data: 2024-07-29 06:55:45 -> 2024-07-29 06:55:45
2024-07-29 15:10:46,655 - DEBUG - 002142.SZ: OHLC after cleaning: 2024-07-29 14:55:45+08:00 -> 2024-07-29 14:55:45+08:00
2024-07-29 15:10:46,657 - DEBUG - 002142.SZ: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,661 - DEBUG - 002142.SZ: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,661 - DEBUG -  Exiting history()
2024-07-29 15:10:46,661 - DEBUG - Exiting history()
2024-07-29 15:10:46,666 - DEBUG - Raw data for 002142.SZ:                                 Open       High  ...  Dividends  Stock Splits
Date                                             ...                         
2024-07-29 00:00:00+08:00  21.549999  21.549999  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:46,666 - INFO - Successfully fetched data for 002142.SZ
2024-07-29 15:10:46,667 - DEBUG - Fetched info for 002142.SZ: {'ticker': '002142.SZ', 'name': '宁波银行', 'open': 21.549999237060547, 'close': 21.489999771118164, 'change': -0.05999946594238281}
2024-07-29 15:10:46,676 - INFO - Fetching data for 002497.SZ, attempt 1/3
2024-07-29 15:10:46,676 - DEBUG - Entering history()
2024-07-29 15:10:46,677 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002497.SZ', 1, 0])
2024-07-29 15:10:46,677 - DEBUG -  Entering history()
2024-07-29 15:10:46,677 - DEBUG - 002497.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,677 - DEBUG -   Entering get()
2024-07-29 15:10:46,677 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002497.SZ
2024-07-29 15:10:46,677 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,677 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:46,677 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:46,677 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,677 - DEBUG - reusing cookie
2024-07-29 15:10:46,677 - DEBUG - reusing crumb
2024-07-29 15:10:46,677 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,677 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:46,936 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002497.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1126
2024-07-29 15:10:46,937 - DEBUG - response code=200
2024-07-29 15:10:46,937 - DEBUG -   Exiting get()
2024-07-29 15:10:46,938 - DEBUG - 002497.SZ: yfinance received OHLC data: 2024-07-29 06:55:45 -> 2024-07-29 06:55:45
2024-07-29 15:10:46,939 - DEBUG - 002497.SZ: OHLC after cleaning: 2024-07-29 14:55:45+08:00 -> 2024-07-29 14:55:45+08:00
2024-07-29 15:10:46,941 - DEBUG - 002497.SZ: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,946 - DEBUG - 002497.SZ: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:46,946 - DEBUG -  Exiting history()
2024-07-29 15:10:46,946 - DEBUG - Exiting history()
2024-07-29 15:10:46,952 - DEBUG - Raw data for 002497.SZ:                            Open  High   Low  ...   Volume  Dividends  Stock Splits
Date                                         ...                                  
2024-07-29 00:00:00+08:00  8.53  8.76  8.55  ...  5453900        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:46,952 - INFO - Successfully fetched data for 002497.SZ
2024-07-29 15:10:46,953 - DEBUG - Fetched info for 002497.SZ: {'ticker': '002497.SZ', 'name': '雅化集团', 'open': 8.529999732971191, 'close': 8.609999656677246, 'change': 0.07999992370605469}
2024-07-29 15:10:46,953 - INFO - Fetching data for 002459.SZ, attempt 1/3
2024-07-29 15:10:46,953 - DEBUG - Entering history()
2024-07-29 15:10:46,953 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002459.SZ', 1, 0])
2024-07-29 15:10:46,953 - DEBUG -  Entering history()
2024-07-29 15:10:46,953 - DEBUG - 002459.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,953 - DEBUG -   Entering get()
2024-07-29 15:10:46,953 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002459.SZ
2024-07-29 15:10:46,953 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:46,954 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:46,954 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:46,954 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,954 - DEBUG - reusing cookie
2024-07-29 15:10:46,954 - DEBUG - reusing crumb
2024-07-29 15:10:46,954 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:46,954 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:47,229 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002459.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1126
2024-07-29 15:10:47,230 - DEBUG - response code=200
2024-07-29 15:10:47,230 - DEBUG -   Exiting get()
2024-07-29 15:10:47,231 - DEBUG - 002459.SZ: yfinance received OHLC data: 2024-07-29 06:55:45 -> 2024-07-29 06:55:45
2024-07-29 15:10:47,231 - DEBUG - 002459.SZ: OHLC after cleaning: 2024-07-29 14:55:45+08:00 -> 2024-07-29 14:55:45+08:00
2024-07-29 15:10:47,233 - DEBUG - 002459.SZ: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:47,237 - DEBUG - 002459.SZ: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:47,238 - DEBUG -  Exiting history()
2024-07-29 15:10:47,238 - DEBUG - Exiting history()
2024-07-29 15:10:47,243 - DEBUG - Raw data for 002459.SZ:                             Open   High  ...  Dividends  Stock Splits
Date                                     ...                         
2024-07-29 00:00:00+08:00  10.63  10.61  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:47,243 - INFO - Successfully fetched data for 002459.SZ
2024-07-29 15:10:47,243 - DEBUG - Fetched info for 002459.SZ: {'ticker': '002459.SZ', 'name': '晶澳科技', 'open': 10.630000114440918, 'close': 10.260000228881836, 'change': -0.36999988555908203}
2024-07-29 15:10:47,243 - INFO - Fetching data for 300750.SZ, attempt 1/3
2024-07-29 15:10:47,243 - DEBUG - Entering history()
2024-07-29 15:10:47,244 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['300750.SZ', 1, 0])
2024-07-29 15:10:47,244 - DEBUG -  Entering history()
2024-07-29 15:10:47,244 - DEBUG - 300750.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:47,244 - DEBUG -   Entering get()
2024-07-29 15:10:47,244 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/300750.SZ
2024-07-29 15:10:47,244 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:47,244 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:47,244 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:47,244 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:47,244 - DEBUG - reusing cookie
2024-07-29 15:10:47,244 - DEBUG - reusing crumb
2024-07-29 15:10:47,244 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:47,244 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:47,496 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/300750.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1102
2024-07-29 15:10:47,497 - DEBUG - response code=200
2024-07-29 15:10:47,497 - DEBUG -   Exiting get()
2024-07-29 15:10:47,497 - DEBUG - 300750.SZ: yfinance received OHLC data: 2024-07-29 06:55:46 -> 2024-07-29 06:55:46
2024-07-29 15:10:47,499 - DEBUG - 300750.SZ: OHLC after cleaning: 2024-07-29 14:55:46+08:00 -> 2024-07-29 14:55:46+08:00
2024-07-29 15:10:47,501 - DEBUG - 300750.SZ: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:47,506 - DEBUG - 300750.SZ: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:47,506 - DEBUG -  Exiting history()
2024-07-29 15:10:47,506 - DEBUG - Exiting history()
2024-07-29 15:10:47,512 - DEBUG - Raw data for 300750.SZ:                             Open   High  ...  Dividends  Stock Splits
Date                                     ...                         
2024-07-29 00:00:00+08:00  190.0  187.0  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:47,512 - INFO - Successfully fetched data for 300750.SZ
2024-07-29 15:10:47,513 - DEBUG - Fetched info for 300750.SZ: {'ticker': '300750.SZ', 'name': '宁德时代', 'open': 190.0, 'close': 184.52999877929688, 'change': -5.470001220703125}
2024-07-29 15:10:47,513 - INFO - Fetching data for 002236.SZ, attempt 1/3
2024-07-29 15:10:47,513 - DEBUG - Entering history()
2024-07-29 15:10:47,513 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['002236.SZ', 1, 0])
2024-07-29 15:10:47,513 - DEBUG -  Entering history()
2024-07-29 15:10:47,513 - DEBUG - 002236.SZ: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:47,513 - DEBUG -   Entering get()
2024-07-29 15:10:47,513 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/002236.SZ
2024-07-29 15:10:47,514 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:47,514 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:47,514 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:47,514 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:47,514 - DEBUG - reusing cookie
2024-07-29 15:10:47,514 - DEBUG - reusing crumb
2024-07-29 15:10:47,514 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:47,514 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:47,779 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/002236.SZ?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1135
2024-07-29 15:10:47,780 - DEBUG - response code=200
2024-07-29 15:10:47,780 - DEBUG -   Exiting get()
2024-07-29 15:10:47,781 - DEBUG - 002236.SZ: yfinance received OHLC data: 2024-07-29 06:55:45 -> 2024-07-29 06:55:45
2024-07-29 15:10:47,781 - DEBUG - 002236.SZ: OHLC after cleaning: 2024-07-29 14:55:45+08:00 -> 2024-07-29 14:55:45+08:00
2024-07-29 15:10:47,784 - DEBUG - 002236.SZ: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:47,788 - DEBUG - 002236.SZ: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:47,789 - DEBUG -  Exiting history()
2024-07-29 15:10:47,789 - DEBUG - Exiting history()
2024-07-29 15:10:47,796 - DEBUG - Raw data for 002236.SZ:                             Open   High  ...  Dividends  Stock Splits
Date                                     ...                         
2024-07-29 00:00:00+08:00  14.39  14.59  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:47,796 - INFO - Successfully fetched data for 002236.SZ
2024-07-29 15:10:47,796 - DEBUG - Fetched info for 002236.SZ: {'ticker': '002236.SZ', 'name': '大华股份', 'open': 14.390000343322754, 'close': 14.40999984741211, 'change': 0.01999950408935547}
2024-07-29 15:10:47,796 - INFO - Fetching data for 600685.SS, attempt 1/3
2024-07-29 15:10:47,796 - DEBUG - Entering history()
2024-07-29 15:10:47,797 - DEBUG - ('SELECT "t1"."key", "t1"."value" FROM "_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['600685.SS', 1, 0])
2024-07-29 15:10:47,797 - DEBUG -  Entering history()
2024-07-29 15:10:47,797 - DEBUG - 600685.SS: Yahoo GET parameters: {'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:47,797 - DEBUG -   Entering get()
2024-07-29 15:10:47,797 - DEBUG - url=https://query2.finance.yahoo.com/v8/finance/chart/600685.SS
2024-07-29 15:10:47,797 - DEBUG - params={'range': '1d', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
2024-07-29 15:10:47,797 - DEBUG -    Entering _get_cookie_and_crumb()
2024-07-29 15:10:47,797 - DEBUG - cookie_mode = 'basic'
2024-07-29 15:10:47,797 - DEBUG -     Entering _get_cookie_and_crumb_basic()
2024-07-29 15:10:47,797 - DEBUG - reusing cookie
2024-07-29 15:10:47,797 - DEBUG - reusing crumb
2024-07-29 15:10:47,798 - DEBUG -     Exiting _get_cookie_and_crumb_basic()
2024-07-29 15:10:47,798 - DEBUG -    Exiting _get_cookie_and_crumb()
2024-07-29 15:10:48,081 - DEBUG - https://query2.finance.yahoo.com:443 "GET /v8/finance/chart/600685.SS?range=1d&interval=1d&includePrePost=False&events=div%2Csplits%2CcapitalGains&crumb=e0CBWrG1y9s HTTP/1.1" 200 1138
2024-07-29 15:10:48,082 - DEBUG - response code=200
2024-07-29 15:10:48,082 - DEBUG -   Exiting get()
2024-07-29 15:10:48,083 - DEBUG - 600685.SS: yfinance received OHLC data: 2024-07-29 06:55:47 -> 2024-07-29 06:55:47
2024-07-29 15:10:48,084 - DEBUG - 600685.SS: OHLC after cleaning: 2024-07-29 14:55:47+08:00 -> 2024-07-29 14:55:47+08:00
2024-07-29 15:10:48,085 - DEBUG - 600685.SS: OHLC after combining events: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:48,089 - DEBUG - 600685.SS: yfinance returning OHLC: 2024-07-29 00:00:00+08:00 -> 2024-07-29 00:00:00+08:00
2024-07-29 15:10:48,089 - DEBUG -  Exiting history()
2024-07-29 15:10:48,089 - DEBUG - Exiting history()
2024-07-29 15:10:48,096 - DEBUG - Raw data for 600685.SS:                                 Open       High  ...  Dividends  Stock Splits
Date                                             ...                         
2024-07-29 00:00:00+08:00  28.309999  29.469999  ...        0.0           0.0

[1 rows x 7 columns]
2024-07-29 15:10:48,096 - INFO - Successfully fetched data for 600685.SS
2024-07-29 15:10:48,096 - DEBUG - Fetched info for 600685.SS: {'ticker': '600685.SS', 'name': '中船防务', 'open': 28.309999465942383, 'close': 29.190000534057617, 'change': 0.8800010681152344}
2024-07-29 15:10:48,096 - DEBUG - Final email body: 代码执行时间：2024-07-29 15:10:40

今日股票信息:

股票代码: 600415.SS
股票名称: 小商品城
开盘价格: 7.56￥
收盘价格: 7.59￥
涨跌幅度: 0.03%

股票代码: 600988.SS
股票名称: 赤峰黄金
开盘价格: 19.09￥
收盘价格: 18.90￥
涨跌幅度: -0.19%

股票代码: 002142.SZ
股票名称: 宁波银行
开盘价格: 21.55￥
收盘价格: 21.49￥
涨跌幅度: -0.06%

股票代码: 002497.SZ
股票名称: 雅化集团
开盘价格: 8.53￥
收盘价格: 8.61￥
涨跌幅度: 0.08%

股票代码: 002459.SZ
股票名称: 晶澳科技
开盘价格: 10.63￥
收盘价格: 10.26￥
涨跌幅度: -0.37%

股票代码: 300750.SZ
股票名称: 宁德时代
开盘价格: 190.00￥
收盘价格: 184.53￥
涨跌幅度: -5.47%

股票代码: 002236.SZ
股票名称: 大华股份
开盘价格: 14.39￥
收盘价格: 14.41￥
涨跌幅度: 0.02%

股票代码: 600685.SS
股票名称: 中船防务
开盘价格: 28.31￥
收盘价格: 29.19￥
涨跌幅度: 0.88%


2024-07-29 15:10:48,096 - INFO - Connecting to SMTP server...
2024-07-29 15:10:48,260 - INFO - Logging in to SMTP server...
2024-07-29 15:10:48,359 - INFO - Sending email...
2024-07-29 15:10:49,356 - INFO - Email sent successfully!
2024-07-29 15:10:49,356 - INFO - Script finished
